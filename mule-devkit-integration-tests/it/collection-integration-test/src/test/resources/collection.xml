<?xml version="1.0" encoding="UTF-8"?>
<mule xmlns="http://www.mulesoft.org/schema/mule/core"
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xmlns:spring="http://www.springframework.org/schema/beans"
      xmlns:collection="http://www.mulesoft.org/schema/mule/collection"
      xsi:schemaLocation="
        http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
        http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/3.1/mule.xsd
        http://www.mulesoft.org/schema/mule/collection http://www.mulesoft.org/schema/mule/collection/1.0/mule-collection.xsd">

    <spring:bean id="objectA" class="java.lang.String">
        <spring:constructor-arg value="ObjectA"/>
    </spring:bean>

    <spring:bean id="objectB" class="java.lang.String">
        <spring:constructor-arg value="ObjectB"/>
    </spring:bean>

    <collection:config name="configA">
		<collection:strings>
			<collection:string>MuleSoft</collection:string>
			<collection:string>FTW</collection:string>
		</collection:strings>
	</collection:config>
	
    <collection:config name="configB">
		<collection:items>
			<collection:item ref="objectA"/>
			<collection:item ref="objectB"/>
		</collection:items>
	</collection:config>	

    <flow name="flowList">
        <collection:count-list-of-strings config-ref="configA">
            <collection:strings>
                <collection:string>mulesoft</collection:string>
                <collection:string>ftw</collection:string>
            </collection:strings>
        </collection:count-list-of-strings>
    </flow>

    <flow name="flowConfigStrings">
        <collection:count-config-strings config-ref="configA"/>
    </flow>

    <flow name="flowConfigItems">
        <collection:count-config-items config-ref="configB"/>
    </flow>

</mule>
